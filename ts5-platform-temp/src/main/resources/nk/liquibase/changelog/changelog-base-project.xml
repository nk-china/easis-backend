<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <!--
    -->

    <changeSet id="DEF_PROJECT_TYPE-01" author="bean">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="DEF_PROJECT_TYPE" />
            </not>
        </preConditions>
        <comment />
        <createTable tableName="DEF_PROJECT_TYPE" remarks="">
            <column name="PROJECT_TYPE"         type="${type.desc}"     remarks="项目类型"><constraints primaryKey="true" /></column>
            <column name="PROJECT_TYPE_DESC"    type="${type.uuid}"     remarks="项目类型描述" />
            <column name="VALID_FROM"           type="${type.desc}"     remarks="有效期自" />
            <column name="VALID_TO"             type="${type.desc}"     remarks="有效期至" />
            <column name="REF_OBJECT_TYPE"      type="${type.var} "     remarks="java扩展" />
            <column name="UPDATED_TIME"         type="${type.date}"     remarks="最后修改时间秒数" />
            <column name="VERSION"             	type="${type.int6}"     remarks=""><constraints primaryKey="true" /></column>
            <column name="STATE"             	type="${type.desc}"     remarks="" />
        </createTable>
    </changeSet>

    <changeSet id="DEF_PROJECT_STATUS-01" author="bean">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="DEF_PROJECT_STATUS" />
            </not>
        </preConditions>
        <comment />
        <createTable tableName="DEF_PROJECT_STATUS" remarks="">
            <column name="PROJECT_TYPE"         type="${type.desc}"     remarks=""><constraints primaryKey="true" /></column>
            <column name="PROJECT_STATE"        type="${type.desc}"     remarks=""><constraints primaryKey="true" /></column>
            <column name="PROJECT_STATE_DESC"   type="${type.desc}"     remarks="" />
            <column name="REF_OBJECT_TYPE"      type="${type.var} "     remarks="业务逻辑处理类" />
            <column name="UPDATED_TIME"         type="${type.date}"     remarks="" />
            <column name="ORDERBY"             	type="${type.int6}"     remarks="" />
            <column name="VERSION"             	type="${type.int6}"     remarks=""><constraints primaryKey="true" /></column>
        </createTable>
    </changeSet>

    <changeSet id="DEF_PROJECT_DOC-01" author="bean">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="DEF_PROJECT_DOC" />
            </not>
        </preConditions>
        <comment />
        <createTable tableName="DEF_PROJECT_DOC" remarks="">
            <column name="PROJECT_TYPE"         type="${type.uuid}"     remarks=""><constraints primaryKey="true" /></column>
            <column name="PRE_DOC_TYPE"         type="${type.uuid}"     remarks=""><constraints primaryKey="true" /></column>
            <column name="DOC_TYPE"             type="${type.uuid}"     remarks=""><constraints primaryKey="true" /></column>
            <column name="PRE_PROJECT_STATUS"   type="${type.desc}"     remarks="前置项目状态条件" />
            <column name="PRE_DOC_STATUS"       type="${type.desc}"     remarks="前置单据状态条件" />
            <column name="VERSION"             	type="${type.int6}"     remarks=""><constraints primaryKey="true" /></column>
            <column name="DOC_COUNT_LIMIT"      type="${type.int6}"     remarks="" />
            <column name="REF_OBJECT_TYPE"      type="${type.var} "     remarks="" />
            <column name="UPDATED_TIME"         type="${type.date}"     remarks="" />
            <column name="ORDERBY"             	type="${type.int6}"     remarks="" />
        </createTable>
    </changeSet>

    <changeSet id="BIZ_PROJECT-01" author="bean">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="BIZ_PROJECT" />
            </not>
        </preConditions>
        <comment />
        <createTable tableName="BIZ_PROJECT" remarks="">
            <column name="PROJECT_ID"           type="${type.uuid}"     remarks=""><constraints primaryKey="true" /></column>
            <column name="PROJECT_TYPE"         type="${type.desc}"     remarks="" />
            <column name="PROJECT_NAME"         type="${type.uuid}"     remarks="" />
            <column name="PROJECT_NUMBER"       type="${type.desc}"     remarks="" />
            <column name="PARTNET_ID"           type="${type.uuid}"     remarks="" />
            <column name="CREATED_BY"           type="${type.uuid}"     remarks="" />
            <column name="CREATED_TIME"         type="${type.date}"     remarks="" />
            <column name="UPDATED_TIME"         type="${type.date}"     remarks="" />
            <column name="PROJECT_STATE"        type="${type.desc}"     remarks="" />
            <column name="PROJECT_DESC"         type="${type.var} "     remarks="" />
            <column name="DEF_VERSION"          type="${type.int6}"     remarks="" />
        </createTable>
    </changeSet>

    <changeSet id="BIZ_PROJECT_SUMMARY-01" author="bean">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="BIZ_PROJECT_SUMMARY" />
            </not>
        </preConditions>
        <comment />
        <createTable tableName="BIZ_PROJECT_SUMMARY" remarks="">
            <column name="PROJECT_ID"           type="${type.uuid}"     remarks="" />
            <column name="DOC_TYPE"             type="${type.cond}"     remarks="" />
            <column name="DOC_COUNT"            type="${type.int} "     remarks="" />
        </createTable>
    </changeSet>

</databaseChangeLog>